var day,month,year;
function load(){
  load_ver();
  out_report();
  values();
}
function values(){
    ajax("times.jsone",{
        success:function(r){
            vals=JSON.parse(r.responseText);
            document.getElementById('ntpServerName').value=vals.ntpServerName;
            document.getElementById('timeZone').value=vals.timeZone;
            document.getElementById('isDayLightSaving').checked=vals.isDayLightSaving;
            document.getElementById('rtcStat').checked=vals.rtcStat;
            document.getElementById('al_0_0').value=vals.al_0_0;
            document.getElementById('al_1_0').value=vals.al_1_0;
            document.getElementById('al_2_0').value=vals.al_2_0;
            document.getElementById('al_3_0').value=vals.al_3_0;
            document.getElementById('al_4_0').value=vals.al_4_0;
            document.getElementById('al_0_1').value=vals.al_0_1;
            document.getElementById('al_1_1').value=vals.al_1_1;
            document.getElementById('al_2_1').value=vals.al_2_1;
            document.getElementById('al_3_1').value=vals.al_3_1;
            document.getElementById('al_4_1').value=vals.al_4_1;
            document.getElementById('al_0_2').value=vals.al_0_2;
            document.getElementById('al_1_2').value=vals.al_1_2;
            document.getElementById('al_2_2').value=vals.al_2_2;
            document.getElementById('al_3_2').value=vals.al_3_2;
            document.getElementById('al_4_2').value=vals.al_4_2;
            document.getElementById('md_0_0').value=vals.md_0_0;
            document.getElementById('md_1_0').value=vals.md_1_0;
            document.getElementById('md_2_0').value=vals.md_2_0;
            document.getElementById('md_3_0').value=vals.md_3_0;
            document.getElementById('md_4_0').value=vals.md_4_0;
            document.getElementById('md_5_0').value=vals.md_5_0;
            document.getElementById('md_6_0').value=vals.md_6_0;
            document.getElementById('md_7_0').value=vals.md_7_0;
            document.getElementById('md_8_0').value=vals.md_8_0;
            document.getElementById('md_0_1').value=vals.md_0_1;
            document.getElementById('md_1_1').value=vals.md_1_1;
            document.getElementById('md_2_1').value=vals.md_2_1;
            document.getElementById('md_3_1').value=vals.md_3_1;
            document.getElementById('md_4_1').value=vals.md_4_1;
            document.getElementById('md_5_1').value=vals.md_5_1;
            document.getElementById('md_6_1').value=vals.md_6_1;
            document.getElementById('md_7_1').value=vals.md_7_1;
            document.getElementById('md_8_1').value=vals.md_8_1;
            document.getElementById('md_0_2').value=vals.md_0_2;
            document.getElementById('md_1_2').value=vals.md_1_2;
            document.getElementById('md_2_2').value=vals.md_2_2;
            document.getElementById('md_3_2').value=vals.md_3_2;
            document.getElementById('md_4_2').value=vals.md_4_2;
            document.getElementById('md_5_2').value=vals.md_5_2;
            document.getElementById('md_6_2').value=vals.md_6_2;
            document.getElementById('md_7_2').value=vals.md_7_2;
            document.getElementById('md_8_2').value=vals.md_8_2;
            document.getElementById('nc_hour_0').value=vals.nc_hour_0;
            document.getElementById('nc_hour_1').value=vals.nc_hour_1;
            document.getElementById('nc_hour_2').value=vals.nc_hour_2;
            document.getElementById('nc_hour_3').value=vals.nc_hour_3;
            document.getElementById('nc_hour_4').value=vals.nc_hour_4;
            document.getElementById('nc_min_0').value=vals.nc_min_0;
            document.getElementById('nc_min_1').value=vals.nc_min_1;
            document.getElementById('nc_min_2').value=vals.nc_min_2;
            document.getElementById('nc_min_3').value=vals.nc_min_3;
            document.getElementById('nc_min_4').value=vals.nc_min_4;
            document.getElementById('nc_mess_0').value=vals.nc_mess_0;
            document.getElementById('nc_mess_1').value=vals.nc_mess_1;
            document.getElementById('nc_mess_2').value=vals.nc_mess_2;
            document.getElementById('nc_mess_3').value=vals.nc_mess_3;
            document.getElementById('nc_mess_4').value=vals.nc_mess_4;
            document.getElementById('memory_hour_start').value=vals.memory_hour_start;
            document.getElementById('memory_hour_end').value=vals.memory_hour_end;
            document.getElementById('t0').value=ver.hour;
            document.getElementById('t1').value=ver.min;
            document.getElementById('d0').value=ver.day;
            document.getElementById('d1').value=ver.month;
            document.getElementById('d2').value=ver.year;
        },data:"VALUES="+Math.random()
    })
}
function save(event){
    document.getElementById("mess").style.display='block';
    var e=document.getElementById("form");
    event.preventDefault();
    var t="?SETS="+Math.random();
    vals.ntpServerName=enc(e.ntpServerName);
    vals.timeZone=enc(e.timeZone);
    document.getElementById("isDayLightSaving").checked?vals.isDayLightSaving=1:vals.isDayLightSaving=0;
    document.getElementById("rtcStat").checked?vals.rtcStat=1:vals.rtcStat=0;
    vals.al_0_0=enc(e.al_0_0);
    vals.al_1_0=enc(e.al_1_0);
    vals.al_2_0=enc(e.al_2_0);
    vals.al_3_0=enc(e.al_3_0);
    vals.al_4_0=enc(e.al_4_0);
    vals.al_0_1=enc(e.al_0_1);
    vals.al_1_1=enc(e.al_1_1);
    vals.al_2_1=enc(e.al_2_1);
    vals.al_3_1=enc(e.al_3_1);
    vals.al_4_1=enc(e.al_4_1);
    vals.al_0_2=enc(e.al_0_2);
    vals.al_1_2=enc(e.al_1_2);
    vals.al_2_2=enc(e.al_2_2);
    vals.al_3_2=enc(e.al_3_2);
    vals.al_4_2=enc(e.al_4_2);
    vals.md_0_0=enc(e.md_0_0);
    vals.md_1_0=enc(e.md_1_0);
    vals.md_2_0=enc(e.md_2_0);
    vals.md_3_0=enc(e.md_3_0);
    vals.md_4_0=enc(e.md_4_0);
    vals.md_5_0=enc(e.md_5_0);
    vals.md_6_0=enc(e.md_6_0);
    vals.md_7_0=enc(e.md_7_0);
    vals.md_8_0=enc(e.md_8_0);
    vals.md_0_1=enc(e.md_0_1);
    vals.md_1_1=enc(e.md_1_1);
    vals.md_2_1=enc(e.md_2_1);
    vals.md_3_1=enc(e.md_3_1);
    vals.md_4_1=enc(e.md_4_1);
    vals.md_5_1=enc(e.md_5_1);
    vals.md_6_1=enc(e.md_6_1);
    vals.md_7_1=enc(e.md_7_1);
    vals.md_8_1=enc(e.md_8_1);
    vals.md_0_2=enc(e.md_0_2);
    vals.md_1_2=enc(e.md_1_2);
    vals.md_2_2=enc(e.md_2_2);
    vals.md_3_2=enc(e.md_3_2);
    vals.md_4_2=enc(e.md_4_2);
    vals.md_5_2=enc(e.md_5_2);
    vals.md_6_2=enc(e.md_6_2);
    vals.md_7_2=enc(e.md_7_2);
    vals.md_8_2=enc(e.md_8_2);
    vals.nc_hour_0=enc(e.nc_hour_0);
    vals.nc_hour_1=enc(e.nc_hour_1);
    vals.nc_hour_2=enc(e.nc_hour_2);
    vals.nc_hour_3=enc(e.nc_hour_3);
    vals.nc_hour_4=enc(e.nc_hour_4);
    vals.nc_min_0=enc(e.nc_min_0);
    vals.nc_min_1=enc(e.nc_min_1);
    vals.nc_min_2=enc(e.nc_min_2);
    vals.nc_min_3=enc(e.nc_min_3);
    vals.nc_min_4=enc(e.nc_min_4);
    vals.nc_mess_0=enc(e.nc_mess_0);
    vals.nc_mess_1=enc(e.nc_mess_1);
    vals.nc_mess_2=enc(e.nc_mess_2);
    vals.nc_mess_3=enc(e.nc_mess_3);
    vals.nc_mess_4=enc(e.nc_mess_4);
    vals.memory_hour_start=enc(e.memory_hour_start);
    vals.memory_hour_end=enc(e.memory_hour_end);
    t+="&JS="+JSON.stringify(vals);
    ajax("esp/times.php",{
        success:function(r){
            inner("mess",r.responseText);
            var sv=document.getElementById("mess");
            sv.style.display="block";
            setTimeout(function(){
                sv.style.display="none";
                inner("mess","отправка")
            },5000)
        },data:t
    })
}
function stop_alarm(){ajax("/stop_alarm.php" ,{success:function(r){},data:"?SETS="+Math.random()+"&SA=1"});}
function set_time(){
    var line={};
    line.d0=document.getElementById('d0').value;
    line.d1=document.getElementById('d1').value;
    line.d2=document.getElementById('d2').value;
    line.t0=document.getElementById('t0').value;
    line.t1=document.getElementById('t1').value;
    var t="?SETS="+Math.random()+"&JS="+JSON.stringify(line);
    ajax("set_time.php",{success:function(r){},data:t})
}